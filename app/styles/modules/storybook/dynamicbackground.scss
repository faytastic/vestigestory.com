/**
 *  vestigestory.com
 *  (c) Vestige <http://vestigestory.com>
 *
 *  This software is released under the MIT License:
 *  http://www.opensource.org/licenses/mit-license.php
 */

@import "../../base/mixins";

$BASE_PATH: "../../../" !default;
$ORIGIN_BACKGROUND_1: $BASE_PATH+'assets/storybook/origin-background-shirt.jpg';
$ORIGIN_BACKGROUND_2: $BASE_PATH+'assets/storybook/origin-background-bottle.jpg';
$DESTINY_BACKGROUND: $BASE_PATH+'assets/storybook/background-destiny.jpg';
$AMANDA_BACKGROUND: $BASE_PATH+'assets/storybook/background-amanda.jpg';
$BASKET_BACKGROUND: $BASE_PATH+'assets/storybook/background-basket.jpg';
$PANTS_BACKGROUND: $BASE_PATH+'assets/storybook/background-pants.jpg';
$PRINCESS_BACKGROUND: $BASE_PATH+'assets/storybook/background-princess.jpg';
$FRUITS_BACKGROUND_1: $BASE_PATH+'assets/storybook/background-fruits.jpg';
$FRUITS_BACKGROUND_2: $BASE_PATH+'assets/storybook/fruits-skirts.png';
$MOUNTAIN_BACKGROUND: $BASE_PATH+'assets/storybook/background-mountain.jpg';
$PASS_BACKGROUND_1: $BASE_PATH+'assets/storybook/pass-bottle.jpg';
$PASS_BACKGROUND_2: $BASE_PATH+'assets/storybook/pass-tee.jpg';
$BRIDGE_BACKGROUND: $BASE_PATH+'assets/storybook/background-bridge.png';
$MADDIE_BACKGROUND: $BASE_PATH+'assets/storybook/background-maddie.jpg';
$CREDITS_BACKGROUND: $BASE_PATH+'assets/storybook/background-credits.jpg';

main.background
{
    @include hide-for-mobile;

    overflow: hidden;
    position: fixed;

    div.filter
    {
        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.25);
        display: inline-block;
        position: absolute;
    }

    & > div.filter
    {
        @include background-fade-transition();

        background-color: rgba(0, 0, 0, 0.60);
        z-index: $STORY_BOOK_BACKGROUND_FILTER_Z_INDEX;
    }

    & > section
    {
        @extend .vs-fluid-block;
        @include background-fade-transition();

        top: 0px;
        left: 0px;
        width: 100%;
        height: 100%;
        text-align: center;
        background-color: transparent;
        pointer-events: none;
        position: absolute;

        video
        {
            bottom: 50%;
            right: 50%;
            width: auto;
            height: auto;
            min-width: 100%;
            min-height: 100%;
            transform: translateX(50%) translateY(50%);
            overflow: hidden;
            position: absolute;
        }

        figure
        {
            top: 0px;
            left: 0px;
            width: 100%;
            height: 100%;
            line-height: 0px;
            background-color: transparent;
            background-repeat: no-repeat;
            background-size: cover;
            background-position: center;
            display: inline-block;
            position: absolute;
        }

        &.video
        {
            z-index: $STORY_BOOK_VIDEO_Z_INDEX;
        }

        &.origin figure
        {
            top: auto;
            left: auto;
            height: 90%;

            &:nth-child(1)
            {
                right: 0px;
                bottom: 0px;
                width: 35%;

                @include background-nudge-transition(20px, 20px);
                @include apply-desktop-background(url($ORIGIN_BACKGROUND_2), contain, right bottom);
            }

            &:nth-child(2)
            {
                left: 0px;
                bottom: 0px;
                width: 65%;

                @include background-nudge-transition(-20px, 20px);
                @include apply-desktop-background(url($ORIGIN_BACKGROUND_1), contain, left bottom);
            }
        }

        &.destiny figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($DESTINY_BACKGROUND));
            }
        }

        &.amanda figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($AMANDA_BACKGROUND), 100% 200%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($AMANDA_BACKGROUND), 100% 200%, 0% 100%);
            }
        }

        &.basket figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($BASKET_BACKGROUND), 100% 200%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($BASKET_BACKGROUND), 100% 200%, 0% 100%);
            }
        }

        &.pants figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-mobile-background(none);
                @include apply-desktop-background(url($PANTS_BACKGROUND), 100% 200%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition();
                @include apply-mobile-background(none);
                @include apply-desktop-background(url($PANTS_BACKGROUND), 100% 200%, 0% 100%);
            }
        }

        &.princess figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($PRINCESS_BACKGROUND), 100% 200%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($PRINCESS_BACKGROUND), 100% 200%, 0% 100%);
            }
        }

        &.fruits figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($FRUITS_BACKGROUND_1), 100% 200%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($FRUITS_BACKGROUND_2), 100% 300%, 0% 0%);
            }

            &:nth-child(3)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($FRUITS_BACKGROUND_2), 100% 300%, 0% 50%);
            }

            &:nth-child(4)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($FRUITS_BACKGROUND_2), 100% 300%, 0% 100%);
            }

            &:nth-child(5)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($FRUITS_BACKGROUND_1), 100% 200%, 0% 100%);
            }
        }

        &.mountain figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($MOUNTAIN_BACKGROUND), 100% 200%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($MOUNTAIN_BACKGROUND), 100% 200%, 0% 100%);
            }
        }

        &.pass figure
        {
            &:nth-child(1)
            {
                @include background-nudge-transition(0px, -40px);
                @include apply-desktop-background(url($PASS_BACKGROUND_1), contain, left top);
            }

            &:nth-child(2)
            {
                @include background-nudge-transition(0px, 40px);
                @include apply-desktop-background(url($PASS_BACKGROUND_2), contain, left bottom);
            }
        }

        &.bridge figure
        {
            &:nth-child(1)
            {
                @include background-nudge-transition(-50px);
                @include apply-desktop-background(url($BRIDGE_BACKGROUND), 100% 300%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition(1.0s, 0.5s);
                @include apply-desktop-background(url($BRIDGE_BACKGROUND), 100% 300%, 0% 50%);
            }

            &:nth-child(3)
            {
                @include background-nudge-transition(50px);
                @include apply-desktop-background(url($BRIDGE_BACKGROUND), 100% 300%, 0% 100%);
            }
        }

        &.maddie figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($MADDIE_BACKGROUND), 100% 200%, 0% 0%);
            }

            &:nth-child(2)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($MADDIE_BACKGROUND), 100% 200%, 0% 100%);
            }
        }

        &.credits figure
        {
            &:nth-child(1)
            {
                @include background-fade-transition();
                @include apply-desktop-background(url($CREDITS_BACKGROUND));
            }
        }
    }
}